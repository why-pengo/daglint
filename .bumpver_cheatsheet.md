# Bumpver Quick Reference

## Common Commands

### Preview Changes (Always Do This First!)
```bash
bumpver update --patch --dry --no-fetch    # Bug fix: 0.5.0 -> 0.5.1
bumpver update --minor --dry --no-fetch    # New feature: 0.5.0 -> 0.6.0
bumpver update --major --dry --no-fetch    # Breaking change: 0.5.0 -> 1.0.0
```

### Apply Version Bump
```bash
bumpver update --patch --no-fetch          # Apply patch version bump
bumpver update --minor --no-fetch          # Apply minor version bump
bumpver update --major --no-fetch          # Apply major version bump
```

### Set Specific Version
```bash
bumpver update --set-version "1.2.3" --no-fetch
```

### Show Current Version
```bash
bumpver show --no-fetch
```

## Version Bump Guidelines

| Type | Example | Use When |
|------|---------|----------|
| **Patch** | 0.5.0 → 0.5.1 | Bug fixes, docs, refactoring |
| **Minor** | 0.5.0 → 0.6.0 | New features (backward compatible) |
| **Major** | 0.5.0 → 1.0.0 | Breaking changes |

## Options Reference

| Option | Description |
|--------|-------------|
| `--dry` or `-d` | Preview changes without modifying files |
| `--no-fetch` or `-n` | Don't fetch tags from remote |
| `--no-commit` | Update files but don't commit |
| `--no-tag-commit` | Commit but don't create tag |
| `--push` | Push commit and tags to remote |
| `--allow-dirty` | Allow uncommitted changes |

## Files Updated

When you run bumpver, these files are automatically updated:

1. `pyproject.toml` - Two places:
   - `version = "X.Y.Z"` in `[project]` section
   - `current_version = "X.Y.Z"` in `[tool.bumpver]` section

2. `src/daglint/__init__.py`
   - `__version__ = "X.Y.Z"`

## Typical Workflow

```bash
# 1. Make changes and commit them
git add .
git commit -m "Add new feature"

# 2. Preview version bump
bumpver update --minor --dry --no-fetch

# 3. Apply version bump (creates commit and tag)
bumpver update --minor --no-fetch

# 4. Push to remote
git push origin main --tags
```

## Troubleshooting

### Git fetch error?
Use `--no-fetch` or `-n` flag:
```bash
bumpver update --patch --no-fetch
```

### Uncommitted changes?
Either commit them first, or use `--allow-dirty`:
```bash
bumpver update --patch --allow-dirty --no-fetch
```

### Want to test without committing?
```bash
bumpver update --patch --no-commit --no-fetch
```

## Remember

- ✅ **Always preview with `--dry` first**
- ✅ **Use `--no-fetch` to avoid network issues**
- ✅ **Commit your changes before bumping**
- ✅ **Follow semantic versioning**
- ❌ **Don't use `--push` unless you're sure**

